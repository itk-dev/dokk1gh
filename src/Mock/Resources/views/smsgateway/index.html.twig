{% extends '@Mock/actionlog/index.html.twig' %}

{% block title 'sms' %}

{% block body %}
  {% if entries %}
    <table class="table table-striped table-hover table-dark">
      <thead>
      <tr>
      <th>Created at</th>
      <th>Type</th>
      <th>Data</th>
      </tr>
      </thead>
      <tbody>
      {% for entry in entries %}
        {% set show_url = path('sms_log_show', {id: entry.id}) %}
        <tr onclick="location = {{ show_url|json_encode }}">
          <td>{{ entry.createdAt | date('Y-m-d H:i:s') }}</td>
          <td>{{ entry.type }}</td>
          <td>
            <dl class="row">
              {% for key, value in entry.data %}
                <dt class="col-sm-3">{{ key }}</dt>
                <dd class="col-sm-9">
                  <div style="white-space: pre-line">
                    {{ value is iterable ? value|json_encode(constant('JSON_PRETTY_PRINT')) : value }}
                  </div>
                </dd>
              {% endfor %}
            </dl>
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  {% else %}
    <div class="alert alert-info">No entries</div>
  {% endif %}
{% endblock %}
